<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript Variable and 條件式流程控制</title>
</head>
<body>
    
    <h1>員工健康管理系統</h1>
    <hr>
    <input type="text" placeholder="name" id="name"><br>
    <input type="number" placeholder="height" id="h"><br>
    <input type="number" placeholder="weight" id="w"><br>
    <input type="radio" id="male" name="gender" checked>男
    <input type="radio" id="female" name="gender">女<br>
    <button onclick="standard()">標準體重</button>
    <button onclick="BMI()">身體質量指數</button>
    <p id="result"></p>

    <script>
        
        //標準體重
        function standard(){
            
            var name='';
            var h=0.0;
            var w=0.0;
            var gender='';

            var std=0.0;    //標準體重
            var upper=0.0;  //體重上限
            var lower=0.0;  //體重下限
            var warning=''; //警語

            name=document.getElementById('name').value;
            h=document.getElementById('h').value;
            w=document.getElementById('w').value;

            if(name==='' || h==0 || w==0){
                alert("請輸姓名、身高與體重!!");
                return;
            }

            //單一條件的流程控制
            if(document.getElementById('male').checked){
                gender='男';
                std=(h-80)*0.7;
            }else{
                gender='女';
                std=(h-70)*0.6
            }

            upper=std*1.1;
            lower=std*0.9;

            //多重條件的流程控制
            if(w>upper){
                warning="您太胖了，要減重!!";
            }else if(w<lower){
                warning="您太廋了，要多吃一點!!";
            }else{
                warning="恭喜您,您擁有好的體態!!";
            }

            document.getElementById('result').innerHTML="姓名：" + name + "<br>"
                                                    +"身高：" + h + " 公分<br>"
                                                    +"體重：" + w + "公斤<br>"
                                                    +"性別：" + gender + "<br>"
                                                    +"標準體重：" + std.toFixed(2) + "公斤<br>"
                                                    +"體重上限：" + upper.toFixed(2) + "公斤<br>"
                                                    +"體重下限：" + lower.toFixed(2) + "公斤<br>"
                                                    +"溫馨提醒：" + warning + "<br>"; 

        }


        //身體質量指數
        function BMI(){
           var name=document.getElementById('name').value;
           var h=document.getElementById('h').value;
           var w=document.getElementById('w').value;
           var bmi=0.0;
           var warning='';

           //bmi=w/((h/100)*(h/100));
           //bmi=w/Math.pow(h/100,2);
           bmi=w/((h/100) ** 2);

           //多重條件
           if(bmi<18.5){
            warning='過輕'
           }else if(bmi<24){
            warning='正常'
           }else if(bmi<27){
            warning='過重'
           }else if(bmi<30){
            warning='輕肥'
           }else if(bmi<35){
            warning='中肥'
           }else{
            warning='重肥'
           }


           document.getElementById('result').innerHTML="姓名：" + name + "<br>"
                                                    +"身高：" + h + "公分<br>"
                                                    +"體重：" + w + "公斤<br>"
                                                    +"BMI：" + bmi.toFixed(1) + "<br>"
                                                    +"溫馨提醒：" + warning + "<br>";

        }


    </script>
</body>
</html>